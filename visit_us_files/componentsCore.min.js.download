define("componentsCore",["lodash","santaProps","coreUtils","santa-components","prop-types","skins","zepto","reactDOM"],function(e,t,n,o,r,s,i,a){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=774)}({0:function(t,n){t.exports=e},11:function(e,t){e.exports=i},12:function(e,t){e.exports=a},3:function(e,n){e.exports=t},377:function(e,t,n){var o,r;o=[n(779),n(780)],void 0===(r=function(e,t){"use strict";return{getTabbaleElements:e.getTabbableElements,keyboardInteractions:t}}.apply(t,o))||(e.exports=r)},4:function(e,t){e.exports=n},5:function(e,t){e.exports=o},6:function(e,t){e.exports=r},7:function(e,t){e.exports=s},774:function(e,t,n){var o,r;o=[n(0),n(7),n(775),n(776),n(777),n(778),n(781),n(377),n(5)],void 0===(r=function(e,t,n,o,r,s,i,a,u){"use strict";return{mixins:{customSkinBasedComp:function(n){var o=n.customCssFunc,r=n.customFontsFunc,s=u.mixins.skinBasedComp(t.skinsMap);if(o){var i=s.statics.getCompCss;s.statics.getCompCss=function(n,r){var s=i(n,r),a=o(function(e){return t.skinsMap.get(e)},r);return e.assign(s,a)},s.statics.getCompCss.cssTypes=e.assign(o.cssTypes,s.statics.getCompCss.cssTypes)}if(r){var a=s.statics.getCompFonts;s.statics.getCompFonts=function(t,n){var o=a(t,n),s=r(n);return e.union(o,s)},s.statics.getCompFonts.fontsTypes=e.assign(r.fontsTypes,s.statics.getCompFonts.fontsTypes)}return s},skinInfo:u.mixins.skinInfoMixin(t.skinsMap),cyclicTabbingMixin:s,blockOuterScrollMixin:r,uniquePageIdMixin:n,galleryImageExpandedActionMixin:i,postMessageCompMixin:o},utils:{accessibility:a}}}.apply(t,o))||(e.exports=r)},775:function(e,t,n){var o,r;o=[n(0),n(3)],void 0===(r=function(e,t){"use strict";var n=t.Types;return{propTypes:{rootId:n.Component.rootId.isRequired,externalBaseUrl:n.PublicModel.externalBaseUrl.isRequired,isSinglePostPage:t.Types.isSinglePostPage.isRequired,pageUrl:n.pageUrl.isRequired,getUniquePageId:n.getUniquePageId.isRequired},getUniquePageId:function(){if("masterPage"===this.props.rootId)return this.props.externalBaseUrl;var e=this.props.rootId;return this.props.isSinglePostPage?this.props.getUniquePageId(e):this.props.pageUrl}}}.apply(t,o))||(e.exports=r)},776:function(e,t,n){var o,r;o=[n(0)],void 0===(r=function(e){"use strict";return{componentWillMount:function(){this.handlers={}},componentWillUnmount:function(){e.forEach(this.handlers,function(e,t){this.clearPostMessageHandlerNamed(t)}.bind(this))},setPostMessageHandler:function(e,t){this.setPostMessageHandlerNamed("default",e,t)},setPostMessageHandlerNamed:function(e,t,n){this.handlers.hasOwnProperty(e)&&this.clearPostMessageHandlerNamed(e);var o=function(e){var o=void 0;try{o=JSON.parse(e.data)}catch(e){return}(o.id===t||null===t&&void 0===o.id)&&n(o)};window.addEventListener("message",o,!1),this.handlers[e]=o},clearPostMessageHandlerNamed:function(e){this.handlers[e]&&(window.removeEventListener("message",this.handlers[e],!1),delete this.handlers[e])}}}.apply(t,o))||(e.exports=r)},777:function(e,t,n){var o;void 0===(o=function(){"use strict";return{blockOuterScroll:function(e){var t=e.currentTarget,n=e.currentTarget.scrollHeight-e.currentTarget.offsetHeight,o=e.deltaY%3?e.deltaY:10*e.deltaY;t.scrollTop+o<=0?(t.scrollTop=0,e.preventDefault()):t.scrollTop+o>=n&&(t.scrollTop=n,e.preventDefault()),e.stopPropagation()}}}.apply(t,[]))||(e.exports=o)},778:function(e,t,n){var o,r;o=[n(0),n(12),n(377)],void 0===(r=function(e,t,n){"use strict";return{preventTabbingOut:function(o){if("Tab"===o.key){o.stopPropagation();var r=n.getTabbaleElements(t.findDOMNode(this));e.isEmpty(r)?o.preventDefault():o.shiftKey&&window.document.activeElement===e.head(r)?(o.preventDefault(),e.last(r).focus()):o.shiftKey||window.document.activeElement!==e.last(r)||(o.preventDefault(),e.head(r).focus())}}}}.apply(t,o))||(e.exports=r)},779:function(e,t,n){var o;void 0===(o=function(){"use strict";return{getTabbableElements:function(e,t){for(var n=[],o=[],r=[],s=function(){var e=[];return function(t){if(t===window.document.documentElement)return!1;var n=window.getComputedStyle(t);return!!function t(n,o){if(n===window.document.documentElement)return!1;for(var r=0,s=e.length;r<s;r++)if(e[r][0]===n)return e[r][1];var i=!1;return"none"===(o=o||window.getComputedStyle(n)).display?i=!0:n.parentNode&&(i=t(n.parentNode)),e.push([n,i]),i}(t,n)||"hidden"===n.visibility}}(),i=e.querySelectorAll(["input","select","a[href]","textarea","button","[tabindex]"]),a=void 0,u=void 0,p=0,c=i.length;p<c;p++)a=i[p],(u=parseInt(a.getAttribute("tabindex"),10)||a.tabIndex)<0&&!t||"INPUT"===a.tagName&&"hidden"===a.type||a.disabled||s(a)||(-1===u&&t&&n.push(a),0===u?o.push(a):r.push({tabIndex:u,node:a}));var d=r.sort(function(e,t){return e.tabIndex-t.tabIndex}).map(function(e){return e.node});return n.concat(o),Array.prototype.push.apply(d,o),d}}}.apply(t,[]))||(e.exports=o)},780:function(e,t,n){var o,r;o=[n(11)],void 0===(r=function(e){"use strict";function t(t){" "===t.key&&(t.preventDefault(),t.stopPropagation(),e(t.target).click())}return{activateBySpaceButton:t,activateBySpaceOrEnterButton:function(n){if("Enter"===n.key)return n.preventDefault(),n.stopPropagation(),void e(n.target).click();t(n)}}}.apply(t,o))||(e.exports=r)},781:function(e,t,n){var o,r;o=[n(0),n(6),n(4),n(3)],void 0===(r=function(e,t,n,o){"use strict";return{propTypes:{compData:o.Types.Component.compData.isRequired,id:o.Types.Component.id.isRequired,rootId:o.Types.Component.rootId.isRequired,handleAction:o.Types.Behaviors.handleAction.isRequired,galleryCompId:t.string,imageIndex:t.number},handleImageExpandedAction:function(){var t=this.props.rootId,o=e.get(this.props,"compData"),r=e.get(this.props,"imageIndex"),s=this.props.galleryCompId;if(s){var i=this.props.handleAction,a=[{name:n.constants.ACTION_TYPES.ITEM_CLICKED,pageId:t,sourceId:s,type:"comp"},{name:n.constants.ACTION_TYPES.IMAGE_EXPANDED,pageId:t,sourceId:s,type:"comp"},{name:n.constants.ACTION_TYPES.IMAGE_CHANGED,pageId:t,sourceId:s,type:"comp"}];e.forEach(a,function(e){i(e,function(e,t){return{item:e,timeStamp:n.loggingUtils.performance.now(),imageIndex:t,name:"imageExpanded"}}(o,r))})}}}}.apply(t,o))||(e.exports=r)}})});
//# sourceMappingURL=componentsCore.min.js.map