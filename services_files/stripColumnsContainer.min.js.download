define("stripColumnsContainer",["lodash","core","santaProps","santa-components","react","components","coreUtilsLib","backgroundCommon"],function(e,t,i,r,n,o,s,a){return function(e){var t={};function i(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=1689)}({0:function(t,i){t.exports=e},1689:function(e,t,i){var r,n;r=[i(19),i(0),i(2),i(3),i(24),i(74),i(5),i(29)],void 0===(n=function(e,t,i,r,n,o,s,a){"use strict";var p=i.compMixins,l={displayName:"StripColumnsContainer",mixins:[n.mediaCommon.mediaLogicMixins.fill,p.skinBasedComp,o.mixins.backgroundDetectionMixin,p.createChildComponentMixin],propTypes:{style:r.Types.Component.style.isRequired,isMeshLayoutMechanism:r.Types.Layout.isMeshLayoutMechanism,compProp:r.Types.Component.compProp,isMobileView:r.Types.isMobileView.isRequired,isPreviewMode:r.Types.isPreviewMode.isRequired,siteWidth:r.Types.siteWidth.isRequired,getScreenWidth:r.Types.getScreenWidth.isRequired,getScrollBarWidth:r.Types.getScrollBarWidth.isRequired,browser:s.santaTypesDefinitions.Browser.browser.isRequired,childrenData:r.Types.ColumnsContainer.childrenData.isRequired},statics:{compSpecificIsDomOnlyOverride:function(){return!1},behaviors:n.mediaCommon.mediaBehaviors.fill},componentDidLayout:function(){var e=this.props.getScrollBarWidth(),t=this.props.getScreenWidth(),i=this.lastScrollBarWidth!==e,r=this.lastScreenWidth!==t;this.props.isMobileView||!i&&!r||(this.lastScrollBarWidth=e,this.lastScreenWidth=t,this.registerReLayout(),this.forceUpdate())},getDefaultSkinName:function(){return"wysiwyg.viewer.skins.stripContainer.DefaultStripContainer"},getMobileSkinProperties:function(){var t=this.props.compProp.rowMargin,i=e.Children.map(this.props.children,function(i){var r={position:"absolute",top:t,height:this.props.childrenData[i.props.id].height,left:0,width:320};t+=r.height+this.props.compProp.columnsMargin;return i=e.cloneElement(i,{rootStyle:r,bgStyle:{position:"absolute",overflow:"hidden",width:320,left:0,top:0,bottom:0}})},this);return{"":{tagName:"section",style:{height:t-this.props.compProp.columnsMargin+this.props.compProp.rowMargin}},background:this.createFillLayers(),inlineContent:{children:i}}},isScreenWidth:function(){return this.props.compProp.fullWidth},getDesktopRelativeSkinProperties:function(){var i=this.props,r=i.siteWidth,n=i.childrenData,o=i.children,s=i.style,a=i.isMeshLayoutMechanism,p=this.props.compProp,l=p.fullWidth,c=p.frameMargin,u=p.columnsMargin,h=p.siteMargin,d=p.rowMargin,m=t.size(this.props.children),f=r-2*h,g=r-2*c,y=g-u*(m-1),M=e.Children.map(o,function(e){var t=e.props;return n[t.id].width}),v=t.sum(M),b=t.map(M,function(e){return Math.round(e*y/v)});b[0]+=y-t.sum(b);var S=l?"100%":r,w=t.defaults({left:0,width:S,minWidth:f+"px"},s),x=e.Children.map(o,function(t,i){var r=t.props.id,o=b[i],s=n[r],p=s.alignment,l=s.height,c={width:o,alignment:p/100},h={position:"relative",width:"100%",left:0,flex:o,marginLeft:i?u+"px":0,minWidth:o+"px",top:a?0:d,marginTop:a?d:0,marginBottom:a?d:0,height:l};return t=e.cloneElement(t,{rootStyle:h,contentArea:c})}),C={position:"absolute",left:0,right:0,width:"calc(100% - "+2*h+"px)",minWidth:r+"px"},P={position:"relative",width:"calc(100% - "+2*(h+c)+"px)",minWidth:g+"px"},k=this.props.isPreviewMode?this.createContentAreaMarker(S):null;return{"":{tagName:"section",style:w,"data-responsive":"true"},background:this.createFillLayers(t.assign({bgStyle:C},this.props)),inlineContent:{style:P,children:[k].concat(function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}(x))}}},createContentAreaMarker:function(t){var i=a.contentAreaUtil.getContentAreaMarkingElement({alignment:.5,width:t},this.props.id);return e.createElement.apply(null,i)},getMobileSkinPropertiesForMesh:function(){var t=this.props.compProp.rowMargin,i=e.Children.map(this.props.children,function(t,i){var r={position:"relative",marginBottom:i===this.props.children.length-1?0:this.props.compProp.columnsMargin};return t=e.cloneElement(t,{isMobileResponsive:!0,rootStyle:r,bgStyle:{position:"absolute",overflow:"hidden",width:320,left:0,top:0,bottom:0},inlineParentStyle:{position:"relative"},inlineStyle:{position:"relative"},containerStyle:{position:"relative"}})},this),r={padding:t+"px 0"};return{"":{tagName:"section","data-mobile-responsive":"true",style:{height:"auto"}},background:this.createFillLayers(),inlineContent:{style:r,children:i}}},getSkinProperties:function(){return this.props.isMobileView?this.props.isMeshLayoutMechanism?this.getMobileSkinPropertiesForMesh():this.getMobileSkinProperties():this.getDesktopRelativeSkinProperties()}};return i.compRegistrar.register("wysiwyg.viewer.components.StripColumnsContainer",l),l}.apply(t,r))||(e.exports=n)},19:function(e,t){e.exports=n},2:function(e,i){e.exports=t},24:function(e,t){e.exports=o},29:function(e,t){e.exports=s},3:function(e,t){e.exports=i},5:function(e,t){e.exports=r},74:function(e,t){e.exports=a}})});
//# sourceMappingURL=stripColumnsContainer.min.js.map