define("googleMap",["lodash","utils","core","santaProps","coreUtils","santa-components","skins","reactDOM","components"],function(e,t,r,o,a,n,i,s,p){return function(e){var t={};function r(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(o,a,function(t){return e[t]}.bind(null,a));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1408)}({0:function(t,r){t.exports=e},1:function(e,r){e.exports=t},12:function(e,t){e.exports=s},1408:function(e,t,r){var o,a;o=[r(5),r(0),r(4),r(2),r(1),r(12),r(3),r(24),r(7),r(1409)],void 0===(a=function(e,t,r,o,a,n,i,s,p,d){"use strict";var u=["da","de","en","es","fr","it","ja","ko","nl","no","pl","pt","ru","sv","tr"],l={pt:"pt-BR"},c=function(e){var r=e.compProp.language,o=e.userLanguage,a="userLang"===r?o:r,n=t.includes(u,a)?a:"en";return l[n]||n};function m(e){return t.transform({address:e.compData.address,addressInfo:e.compData.addressInfo,mapType:e.compProp.mapType,mapInteractive:e.compProp.mapDragging,showZoom:e.compProp.showZoom,showStreetView:e.compProp.showStreetView,showMapType:e.compProp.showMapType,lat:e.compData.latitude,long:e.compData.longitude,ts:e.structure.layout.width+e.structure.layout.height,mapStyle:JSON.stringify(e.compData.mapStyle||[])},function(e,r,o){e[o]=t.isString(r)?a.xss.filterHtmlString(r):r},{})}var f={displayName:"GoogleMap",mixins:[o.compMixins.skinBasedComp],statics:{compSpecificIsDomOnlyOverride:function(){return!1}},propTypes:{compData:i.Types.Component.compData.isRequired,compProp:i.Types.Component.compProp.isRequired,structure:i.Types.Component.structure.isRequired,santaBase:i.Types.santaBase.isRequired,cannotHideIframeWithinRoundedCorners:i.Types.mobile.cannotHideIframeWithinRoundedCorners.isRequired,userLanguage:i.Types.WixUserSantaTypes.userLanguage.isRequired},getInitialState:function(){var e={};return this.props.cannotHideIframeWithinRoundedCorners()&&(e.$corners="squared"),this.restartMap(this.props),e},componentDidMount:function(){this.iFrameNode=n.findDOMNode(this.refs.iframe),this.iFrameNode.onload=function(){var e=m(this.props);this.updateMapParams(e)}.bind(this)},componentWillReceiveProps:function(e){var t=m(e);c(this.props)===c(e)?this.updateMapParams(t):this.restartMap(e)},updateMapParams:function(e){n.findDOMNode(this.refs.iframe).contentWindow.postMessage(JSON.stringify(e),"*")},restartMap:function(e){this.iframeUrl=function(e){var r=m(e),o=t.pick(r,["lat","long","address","addressInfo","showZoom","showStreetView","showMapType"]),n=t.reduce(o,function(e,t,r){return e.concat("&"+r+"="+t)},""),i="language="+c(e)+n;return a.urlUtils.joinURL(e.santaBase||"","static/external/googleMap.html?"+i)}(e),this.a11yTitle=r.translationsLoader.getTranslation("component_label",c(e),"COMPONENT_LABEL_googleMapsTitle")},getMapParamsFromProps:m,getSkinProperties:function(){return{"":{tabIndex:0,title:this.a11yTitle,"aria-label":this.a11yTitle},mapContainer:{key:"mapContainer",children:[e.utils.createReactElement("iframe",{ref:"iframe","data-src":this.iframeUrl,width:"100%",height:"100%",frameBorder:"0",scrolling:"no",title:this.a11yTitle,"aria-label":this.a11yTitle})]}}}};return o.compRegistrar.register("wysiwyg.viewer.components.GoogleMap",f),s.translationRequirementsChecker.registerCommonLanguageRequirement("wysiwyg.viewer.components.GoogleMap",function(e,r){return t.get(r,["properties","language"])}),p.skinsMap.addBatch(d),f}.apply(t,o))||(e.exports=a)},1409:function(e,t,r){var o;void 0===(o=function(){"use strict";var e={"wysiwyg.viewer.skins.GoogleMapSkin":{react:[["div","mapContainer",[],{}]],css:{'%[data-state~="squared"],%[data-state~="squared"] %mapContainer':"border-radius:0;","%mapContainer":"position:absolute;top:0;right:0;bottom:0;left:0;"}},"wysiwyg.viewer.skins.map.GoogleMapDefault":{react:[["div","mapContainer",[],{}]],params:{brd:"BG_COLOR_ALPHA",rd:"BORDER_RADIUS",shd:"BOX_SHADOW",brw:"SIZE"},paramsDefaults:{brd:"color_15",rd:"0",shd:"0 1px 4px rgba(0, 0, 0, 0.6)",brw:"0"},css:{'%[data-state~="squared"],%[data-state~="squared"] %mapContainer':"border-radius:0;","%":"background:[brd];[rd]  [shd]","%mapContainer":"display:inline-block;overflow:hidden;[rd]  position:absolute;top:[brw];right:[brw];bottom:[brw];left:[brw];-webkit-mask-image:-webkit-radial-gradient(circle, #fff, #000);mask-image:radial-gradient(circle, #fff, #000);"}},"wysiwyg.viewer.skins.map.GoogleMapLiftedShadow":{react:[["div",null,["_left","_shd"],{}],["div",null,["_right","_shd"],{}],["div","mapContainer",[],{}]],params:{tdr:"URL",brd:"BG_COLOR_ALPHA",rd:"BORDER_RADIUS",shd:"BOX_SHADOW",brw:"SIZE"},paramsDefaults:{tdr:"BASE_THEME_DIRECTORY",brd:"color_15",rd:"0",shd:"0 1px 4px rgba(0, 0, 0, 0.6)",brw:"0"},css:{'%[data-state~="squared"],%[data-state~="squared"] %mapContainer':"border-radius:0;","%_shd":"position:absolute;bottom:-26px;width:165px;height:26px;background-image:url([tdr]liftedshadow_medium.png);background-repeat:no-repeat;","%_left":"left:-20px;background-position:0 0;","%_right":"right:-20px;background-position:100% 0;","%":"background-color:[brd];[rd]  [shd]","%mapContainer":"position:absolute;top:[brw];right:[brw];bottom:[brw];left:[brw];overflow:hidden;"}},"wysiwyg.viewer.skins.map.GoogleMapSloppy":{react:[["div",null,["_brd","_one"],{}],["div",null,["_brd","_two"],{}],["div","mapContainer",[],{}]],params:{tdr:"URL"},paramsDefaults:{tdr:"BASE_THEME_DIRECTORY"},css:{'%[data-state~="squared"],%[data-state~="squared"] %mapContainer':"border-radius:0;","%_brd":"background-image:url([tdr]sloppyframe.png);background-repeat:no-repeat;position:absolute;top:0;right:0;bottom:0;left:0;","%_one":"background-position:0 0;bottom:3px;right:3px;","%_two":"background-position:100% 100%;top:3px;left:3px;","%mapContainer":"position:absolute;top:9px;bottom:9px;left:9px;right:9px;"}}};return e}.apply(t,[]))||(e.exports=o)},2:function(e,t){e.exports=r},24:function(e,t){e.exports=p},3:function(e,t){e.exports=o},4:function(e,t){e.exports=a},5:function(e,t){e.exports=n},7:function(e,t){e.exports=i}})});
//# sourceMappingURL=googleMap.min.js.map